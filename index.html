<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Love Surprise</title>
<style>
    body {
        margin: 0;
        background: #fff0f6;
        font-family: Arial, sans-serif;
        overflow: hidden;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
    }

    /* Mailbox button */
    #mailboxBtn {
        font-size: 70px;
        cursor: pointer;
        transition: 0.3s;
        z-index: 10;
    }
    #mailboxBtn:hover {
        transform: scale(1.1);
    }

    /* Floating hearts */
    .heart {
        position: absolute;
        color: red;
        pointer-events: none;
        animation: floatUp 4s ease-in forwards;
    }

    @keyframes floatUp {
        0% { transform: translateY(0) scale(0.6); opacity: 1; }
        100% { transform: translateY(-150vh) scale(1.3); opacity: 0; }
    }

    /* Canvas container */
    #heartCanvas {
        position: absolute;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        display: none;
        z-index: 5;
    }

    /* Message */
    #loveMsg {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 50px;
        font-weight: bold;
        color: #ff2e63;
        display: none;
        z-index: 20;
    }
</style>
</head>
<body>

<div id="mailboxBtn">üì©</div>
<canvas id="heartCanvas"></canvas>
<div id="loveMsg">I Love You ‚ù§Ô∏è</div>

<script>
let activated = false;
const btn = document.getElementById("mailboxBtn");
const canvas = document.getElementById("heartCanvas");
const ctx = canvas.getContext("2d");
const msg = document.getElementById("loveMsg");

btn.addEventListener("click", () => {
    if (activated) return;
    activated = true;

    btn.style.display = "none";
    canvas.style.display = "block";

    startFloatingHearts();
    drawHeartAnimation();
});

/* FULL-PAGE FLOATING HEARTS */
function startFloatingHearts() {
    setInterval(() => {
        const heart = document.createElement("div");
        heart.classList.add("heart");
        heart.textContent = "üíñ";

        const size = Math.random() * 30 + 20;
        const x = Math.random() * window.innerWidth;

        heart.style.left = x + "px";
        heart.style.bottom = "0px";
        heart.style.fontSize = size + "px";

        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 4000);
    }, 200);
}

/* HEART DRAWING ANIMATION */
function drawHeartAnimation() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    let t = 0;
    const speed = 0.02;
    const points = [];

    function animate() {
        if (t > Math.PI * 2) {
            msg.style.display = "block";
            return;
        }

        const x = 16 * Math.sin(t) ** 3;
        const y = 13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t);

        points.push({ x: x * 20 + canvas.width / 2, y: -y * 20 + canvas.height / 2 });

        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.beginPath();
        ctx.strokeStyle = "#ff2e63";
        ctx.lineWidth = 4;

        for (let i = 0; i < points.length - 1; i++) {
            ctx.moveTo(points[i].x, points[i].y);
            ctx.lineTo(points[i + 1].x, points[i + 1].y);
        }

        ctx.stroke();
        t += speed;
        requestAnimationFrame(animate);
    }
    animate();
}
</script>

</body>
</html>
